<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=768px, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Sigma Chi Beta Omega - Philanthropy</title>

    <link href="assets/css/skeleton.min.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/style.css" rel="stylesheet" type="text/css" />
    <style>
        html {
            background-color: #2A2829;
            background-image: url("assets/img/pattern.png");
        }

        body {
            color: #E1E7EE;
        }
    </style>

    <!-- Load Stripe Payment processing -->
    <script src="https://js.stripe.com/v3/"></script>
</head>

<body>
    <div class="container">
        <section id="navigation">
            <center>
                <a href="index.html">
                    <img height="200px" src="assets/img/derby-header.png">
                </a>
            </center>
            <nav>
                <center>
                    <ul class="inline">
                        <li>
                            <header>Sigma Chi Beta Omega - Philanthropy</header>
                        </li>
                    </ul>
                </center>
            </nav>
        </section>

        <section>

            <p>Based in the the beautiful Salt Lake City, Utah, The Huntsman Cancer Institute (HCI) is an NCI-designated cancer
                research facility founded by John Huntsman Sr., a Sigma Chi alumnus. The Huntsman Cancer Institute’s mission
                statement is “to understand cancer from its beginnings, to use that knowledge in the creation and improvement
                of cancer treatments, to relieve the suffering of cancer patients, and to provide education about cancer
                risk, prevention, and care”.
            </p>
            <p>The HCI looks to provide hope to those affected by, or are currently suffering from cancer through their research,
                education, and state of the art care.
                <b>100%</b> of all proceeds go directly to the research facility. This year, the Beta Omega chapter is committed
                to raising $20,000 in funds for the Huntsman Cancer Institute.</p>
            <p>Help us reach our goal through a small donation and be part of the generation to end cancer.</p>

            <center>
                <a href="https://www.facebook.com/events/2011630112426139/" class="button">Event Page</a>
            </center>
        </section>

        <section>
            <header>Donate Now</header>

            <form action="/charge" method="post" id="payment-form" style="display: flex">
                <div class="form-row" style="flex: 3; margin-right: 2em">
                    <!-- <label for="card-element">
                        Credit or debit card
                    </label> -->
                    <div id="card-element">
                        <!-- A Stripe Element will be inserted here. -->
                    </div>

                    <!-- Used to display form errors. -->
                    <div id="card-errors" role="alert"></div>
                </div>

                <button class="button" style="flex: 1">Submit Payment</button>
            </form>
        </section>

        <section id="photos">
            <header>Photos</header>

            <ul id="og-grid" class="og-grid">
                <li>
                    <a onclick="openLightbox(this)" data-largesrc="assets/img/photos/original/2.jpg">
                        <img width="225px" height="auto" src="assets/img/photos/thumbs/2.jpg" />
                    </a>
                </li>
                <li>
                    <a onclick="openLightbox(this)" data-largesrc="assets/img/photos/original/3.jpg">
                        <img width="225px" height="auto" src="assets/img/photos/thumbs/3.jpg" />
                    </a>
                </li>
                <li>
                    <a onclick="openLightbox(this)" data-largesrc="imaassets/img/photos/originalges/4.jpg">
                        <img width="225px" height="auto" src="assets/img/photos/thumbs/4.jpg" />
                    </a>
                </li>
                <li>
                    <a onclick="openLightbox(this)" data-largesrc="assets/img/photos/original/5.jpg">
                        <img width="225px" height="auto" src="assets/img/photos/thumbs/5.jpg" />
                    </a>
                </li>
                <li>
                    <a onclick="openLightbox(this)" data-largesrc="assets/img/photos/original/6.jpg">
                        <img width="225px" height="auto" src="assets/img/photos/thumbs/6.jpg" />
                    </a>
                </li>
                <li>
                    <a onclick="openLightbox(this)" data-largesrc="assets/img/photos/original/7.jpg">
                        <img width="225px" height="auto" src="assets/img/photos/thumbs/7.jpg" />
                    </a>
                </li>
            </ul>
        </section>

        <section>
            <header>Teams</header>

            <table id="team-table">
                <tr>
                    <th>Team</th>
                    <th>Donation Page</th>
                    <th>Amount Raised</th>
                    <th>Goal Amount</th>
                </tr>
            </table>
        </section>

        <section>
            <header>Philanthropy contacts</header>

            <table>
                <tr>
                    <th>Name</th>
                    <th>Phone Number</th>
                    <th>Email</th>
                </tr>
                <tr>
                    <td>Ethan Bryant</td>
                    <td>TBA</td>
                    <td>philanthropy@sigmachitoronto.com</td>
                </tr>
                <tr>
                    <td>Tylar Thompson</td>
                    <td>TBA</td>
                    <td>consul@sigmachitoronto.com</td>
                </tr>
            </table>
        </section>

        <br>
        <br>
    </div>

    <div id="lightbox">
        <div class="container lightbox-container">
            <a href="#photos">
                <img height="40px" width="40px" src="assets/img/close.png" />
            </a>
            <div id="lightbox-img"></div>
        </div>
    </div>
    <script>
        var lightboxImg = null

        window.onload = () => {
            // Initalize the lightbox.
            if (!lightboxImg) {
                lightboxImg = document.getElementById("lightbox-img")
            }

            // Fix for refreshing on lightbox page, return to photos tab.
            if (window.location.href.endsWith("#lightbox") && !lightboxImg.hasAttribute("style")) {
                window.location.href = window.location.hostname + window.location.pathname + "#photos"
            }

            renderTeams()
        }

        function renderTeams() {
            var teamData = {
                "Alpha Gamma Delta": {
                    "url": "http://utoronto.alphagammadelta.org/",
                    "page": "#",
                    "raised": 0.00,
                    "goal": 0.00
                },
                "Alpha Omicron Pi": {
                    "url": "http://utoronto.alphaomicronpi.org/",
                    "page": "#",
                    "raised": 0.00,
                    "goal": 0.00
                },
                "Alpha Phi": {
                    "url": "http://alphaphialumto.com/",
                    "page": "#",
                    "raised": 0.00,
                    "goal": 0.00
                },
                "Gamma Phi Beta": {
                    "url": "https://www.gammaphibetatoronto.com/",
                    "page": "#",
                    "raised": 0.00,
                    "goal": 0.00
                },
                "Delta Delta Delta": {
                    "url": "http://utoronto.tridelta.org/",
                    "page": "#",
                    "raised": 0.00,
                    "goal": 0.00
                },
                "Kappa Kappa Gamma": {
                    "url": "http://utoronto.kappa.org/",
                    "page": "#",
                    "raised": 0.00,
                    "goal": 0.00
                },
                "Pi Beta Phi": {
                    "url": "https://www.pibetaphi.org/pibetaphi/utoronto",
                    "page": "#",
                    "raised": 0.00,
                    "goal": 0.00
                },
                "Delta Alpha Theta": {
                    "url": "http://deltaalphatheta.wixsite.com/gamma",
                    "page": "https://us-p2p.netdonor.net/223/derby-challenge/13806/matthews-derby-challenge",
                    "raised": 0.00,
                    "goal": 500.00
                },
                "Delta Psi Delta": {
                    "url": "http://deltapsideltatoronto.wixsite.com/gammachapter",
                    "page": "#",
                    "raised": 0.00,
                    "goal": 0.00
                },
                "Delta Phi Nu": {
                    "url": "https://deltaphinutoronto.wixsite.com/sigmatau",
                    "page": "#",
                    "raised": 0.00,
                    "goal": 0.00
                },
                "Delta Pi": {
                    "url": "http://www.deltapisorority.org/alpha_chapter-toronto",
                    "page": "#",
                    "raised": 0.00,
                    "goal": 0.00
                }
            }

            var teamTable = document.getElementById("team-table")

            for (name in teamData) {
                var team = teamData[name]

                var item = document.createElement("tr")
                item.innerHTML = '<td><a href="' + team.url + '">' + name + '</a></td>' +
                    '<td><a href="' + team.page + '">Page</a></td>' +
                    '<td>$' + team.raised + '</td>' +
                    '<td>$' + team.goal + '</td>'

                teamTable.appendChild(item)
            }
        }

        function openLightbox(element) {
            var imgUrl = element.getAttribute("data-largesrc")

            lightboxImg.setAttribute("style", "background-image: url(" + imgUrl + ");")

            window.location.href = window.location.hostname + window.location.pathname + "#lightbox"
        }
    </script>
    <script>
        // Create a Stripe client.
        var stripe = Stripe('pk_test_h1E4eaur9kFOJiX02CZpyTQu');

        // Create an instance of Elements.
        var elements = stripe.elements();

        // Custom styling can be passed to options when creating an Element.
        // (Note that this demo uses a wider set of styles than the guide below.)
        var style = {
            base: {
                color: '#32325d',
                fontSmoothing: 'antialiased',
                fontSize: '16px',
                '::placeholder': {
                    color: '#aab7c4'
                }
            },
            invalid: {
                color: '#fa755a',
                iconColor: '#fa755a'
            }
        };

        // Create an instance of the card Element.
        var card = elements.create('card', { style: style });

        // Add an instance of the card Element into the `card-element` <div>.
        card.mount('#card-element');
    </script>
    <script>
        // Create a token or display an error when the form is submitted.
        var form = document.getElementById('payment-form');
        form.addEventListener('submit', function (event) {
            event.preventDefault();

            stripe.createToken(card).then(function (result) {
                if (result.error) {
                    // Inform the customer that there was an error.
                    var errorElement = document.getElementById('card-errors');
                    errorElement.textContent = result.error.message;
                } else {
                    // Send the token to your server.
                    stripeTokenHandler(result.token);
                }
            });
        });

        function stripeTokenHandler(token) {
            // Insert the token ID into the form so it gets submitted to the server
            var form = document.getElementById('payment-form');
            var hiddenInput = document.createElement('input');
            hiddenInput.setAttribute('type', 'hidden');
            hiddenInput.setAttribute('name', 'stripeToken');
            hiddenInput.setAttribute('value', token.id);
            form.appendChild(hiddenInput);

            // Submit the form
            form.submit();
        }
    </script>
</body>

</html>